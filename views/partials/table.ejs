<% const keys = Object.keys(tableData[0]) %>
<table id="table"
       data-toggle="table"
       data-search="true"
       data-pagination="true"
       data-page-list="[10, 25, 50, 100, ALL]"
       data-locale="vi-VN"
       data-buttons-class="primary"
       data-buttons=<%= (locals.add_button) ? "buttons" : "" %>
       data-show-button-text="true"
       data-icons-prefix="fa"
       class="table table-striped table-bordered table-hover table-responsive-md rounded"
       smart-display>
    <thead>
    <tr>
        <% for (let i = 0; i < tableHeads.length; i++) { %>
            <th data-field="<%= keys[i] %>" data-align="center" data-sortable="true">
                <%= tableHeads[i] %>
            </th>
        <% } %>
        <th data-align="center" data-field="actions">
            Hành động
        </th>
    </tr>
    </thead>
    <tbody>
    <% tableData.forEach((tableRow, i) => { %>
        <tr>
            <% keys.forEach((key) => { %>
                <% if (key === 'actions') { %>
                    <td>
                        <% const infoUrl = (tableRow.actions.info) ? generateDetailLink({linkDetails: linkDetails, id: tableRow.id}) : null %>
                        <%- include('./actions-set', {
                        edit: tableRow.actions.edit ? {modal: '#editModal' + i} : null,
                        remove: tableRow.actions.remove ? {modal: '#removeModal' + i} : null,
                        info: tableRow.actions.info ? {modal: '#infoModal' + i, url: infoUrl} : null,
                        }) %>
                    </td>
                <% }else { %>
                    <td><%= tableRow[key] %></td>
                <% } %>
            <% }) %>
        </tr>
        <!--Modal edit-->
        <% if (typeof edit_modal !== 'undefined') { %>
            <% edit_modal.components.forEach((component) => { %>
                <% if (component.id.includes('ID')) { %>
                    <% component.value = tableRow.id %>
                <% } %>
            <% }) %>
            %>
            <%-
            include('./modal.ejs', {
            modal_id: 'editModal' + i,
            title: edit_modal.title,
            components: edit_modal.components,
            buttons: edit_modal.buttons,
            })
            %>
        <% } %>
    <% }) %>
    </tbody>
</table>
